{% extends "base.html" %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
  <!-- Upload PDF Card -->
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow p-8 flex flex-col">
    <h2 class="text-xl font-semibold mb-4">Upload Dokumen PDF</h2>
    <form method="POST" enctype="multipart/form-data" class="flex flex-col gap-4 flex-1">
      <input class="block w-full text-sm text-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition" type="file" name="file" accept=".pdf" id="fileInput" />
      <small class="text-gray-500 dark:text-gray-400">Unggah file PDF untuk ditambahkan ke basis data pencarian</small>
      <button type="submit" class="mt-2 w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow transition">Upload</button>
    </form>
  </div>

  <!-- Search PDF Card -->
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow p-8 flex flex-col">
    <h2 class="text-xl font-semibold mb-4">Cari Dokumen</h2>
    <form action="/search" method="GET" class="flex flex-col gap-4 flex-1">
      <div class="relative">
        <input type="text" name="query" placeholder="Masukkan kata kunci..." value="{{ request.args.get('query', '') }}" aria-label="Search documents" autocomplete="off"
          class="w-full py-2 px-4 pr-24 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400 transition" />
        <button type="submit" class="absolute right-2 top-1/2 -translate-y-1/2 px-4 py-1 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg shadow transition">Cari</button>
      </div>
      <small class="text-gray-500 dark:text-gray-400">Cari dokumen berdasarkan kata kunci yang Anda inginkan</small>
    </form>
  </div>
</div>

<!-- Dokumen List -->
<div class="max-w-3xl mx-auto mt-12">
  <h3 class="text-lg font-semibold mb-4">Dokumen Tersedia</h3>
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow divide-y divide-gray-200 dark:divide-gray-700">
    {% if files %}
      {% for file in files %}
        <div class="flex items-center justify-between px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition">
          <span class="truncate text-gray-800 dark:text-gray-100">{{ file.name }}</span>
          <span class="ml-4 inline-block min-w-[90px] text-center bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 font-semibold rounded-full px-3 py-1 text-xs">{{ file.size_kb|round(2) }} KB</span>
        </div>
      {% endfor %}
    {% else %}
      <div class="px-6 py-8 text-center text-gray-400">Belum ada dokumen tersedia</div>
    {% endif %}
  </div>
</div>
{% endblock %}
